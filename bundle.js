!function(I){var g={};function n(t){if(g[t])return g[t].exports;var C=g[t]={i:t,l:!1,exports:{}};return I[t].call(C.exports,C,C.exports,n),C.l=!0,C.exports}n.m=I,n.c=g,n.d=function(I,g,t){n.o(I,g)||Object.defineProperty(I,g,{configurable:!1,enumerable:!0,get:t})},n.r=function(I){Object.defineProperty(I,"__esModule",{value:!0})},n.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return n.d(g,"a",g),g},n.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},n.p="",n(n.s=1)}([function(module,exports,__webpack_require__){eval('(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse { var i, a; }\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2017 Karl STEIN\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nvar hooks = {};\n\nvar Events = {\n    addEvent: function addEvent(event, callback) {\n        if (typeof event !== "string") {\n            throw new Error("event is not a string");\n        }\n        if (typeof callback !== "function") {\n            throw new Error("callback is not a function");\n        }\n        if (!(hooks[event] instanceof Array)) {\n            hooks[event] = [];\n        }\n        hooks[event].push(callback);\n    },\n    removeEvent: function removeEvent(event, callback) {\n        if (hooks[event] instanceof Array) {\n            var index = hooks[event].indexOf(callback);\n\n            if (index !== -1) {\n                hooks[event].splice(index, 1);\n            }\n        }\n    },\n    triggerEvent: function triggerEvent() {\n        var event = arguments[0];\n        var thisObj = arguments[1];\n\n        if (hooks.hasOwnProperty(event)) {\n            for (var i = 0; i < hooks[event].length; i += 1) {\n                hooks[event][i].call(thisObj);\n            }\n        }\n    }\n};\n\nvar Route = exports.Route = function () {\n    function Route(path, options) {\n        _classCallCheck(this, Route);\n\n        options = options || {};\n\n        /**\n         * Route callback\n         * @type {function|null}\n         */\n        this.action = options.action;\n\n        /**\n         * Route events\n         * @type {{}}\n         */\n        this.events = {};\n\n        /**\n         * Route name\n         * @type {string|null}\n         */\n        this.name = options.name;\n\n        /**\n         * Route params\n         * @type {null}\n         */\n        this.params = null;\n\n        /**\n         * Route path\n         * @type {string}\n         */\n        this.path = path;\n\n        /**\n         * The router object\n         * @type {Router}\n         */\n        this.router = options.router;\n    }\n\n    /**\n     * Hooks a callback to an event\n     * @param event\n     * @param callback\n     */\n\n\n    _createClass(Route, [{\n        key: "on",\n        value: function on(event, callback) {\n            switch (event) {\n                case "leave":\n                    this.events.leave = callback;\n                    break;\n            }\n        }\n\n        /**\n         * Redirects to another route\n         * @param path\n         */\n\n    }, {\n        key: "redirect",\n        value: function redirect(path) {\n            this.router.go(path);\n        }\n\n        /**\n         * Renders a route content\n         * @param content\n         * @param options\n         */\n\n    }, {\n        key: "render",\n        value: function render(content, options) {\n            options = options || {};\n            var route = this;\n            var data = {};\n            var target = options.target || this.router.getTarget();\n\n            // Find the target element\n            if (typeof target === "string") {\n                target = document.getElementById(target);\n            }\n            // Check target\n            if (!(target instanceof Element)) {\n                throw new Error("Target is not valid for route : " + route.path);\n            }\n\n            // Merge data\n            if (options.data) {\n                if (typeof options.data === "function") {\n                    data = options.data.call(route);\n                } else if (_typeof(options.data) === "object") {\n                    for (var key in options.data) {\n                        if (options.data.hasOwnProperty(key)) {\n                            data.key = options.data[key];\n                        }\n                    }\n                }\n            }\n\n            // Execute before render callbacks\n            Events.triggerEvent("beforeRender", this);\n\n            // Remove the previous content\n            target.innerHTML = "";\n\n            // Render the template\n            this.router.render.call(route, content, data, target);\n\n            // Update all links in the page\n            this.router.parseLinks();\n\n            // Execute before render callbacks\n            Events.triggerEvent("afterRender", this);\n        }\n    }]);\n\n    return Route;\n}();\n\nvar Router = exports.Router = {\n    /**\n     * Render the current path when the page is loaded\n     * @type {boolean}\n     */\n    autoRun: true,\n\n    /**\n     * The current route\n     * @type {Route}\n     */\n    currentRoute: null,\n\n    /**\n     * Is router enabled\n     * @type {boolean}\n     */\n    enabled: true,\n\n    /**\n     * The previous path of the router\n     * @type {Array}\n     */\n    history: [],\n\n    /**\n     * The maximum path that the router should keep in memory\n     * @type {number}\n     */\n    historyLimit: 10,\n\n    /**\n     * The page not found content\n     * @type {function}\n     */\n    notFound: null,\n\n    /**\n     * Is router refreshing\n     * @type {boolean}\n     */\n    redirecting: false,\n\n    /**\n     * The routes\n     * @type {{}}\n     */\n    routes: {},\n\n    /**\n     * The target element where the router will render the page\n     * @type {string}\n     */\n    target: "yield",\n\n    /**\n     * A route\n     * @type {Route}\n     */\n    Route: Route,\n\n    /**\n     * Disables router\n     */\n    disable: function disable() {\n        this.enabled = false;\n    },\n\n\n    /**\n     * Enables router\n     */\n    enable: function enable() {\n        this.enabled = true;\n    },\n\n\n    /**\n     * Checks if the route exists\n     * @param path\n     * @return {boolean}\n     */\n    exists: function exists(path) {\n        return this.routes[path] instanceof Route;\n    },\n\n\n    /**\n     * Returns the current route\n     * @return {Route}\n     */\n    getCurrentRoute: function getCurrentRoute() {\n        return this.currentRoute;\n    },\n\n\n    /**\n     * Returns the last path\n     * @return {string|null}\n     */\n    getLastPath: function getLastPath() {\n        var historySize = this.history.length;\n\n        if (historySize > 0) {\n            return this.history[historySize - 1];\n        }\n        return null;\n    },\n\n\n    /**\n     * Returns all routes\n     * @return {{}}\n     */\n    getRoutes: function getRoutes() {\n        return this.routes;\n    },\n\n\n    /**\n     * Returns router target\n     * @return {string}\n     */\n    getTarget: function getTarget() {\n        return this.target;\n    },\n\n\n    /**\n     * Changes the current path\n     * @param path\n     * @todo allow to pass params\n     */\n    go: function go(path) {\n        this.redirecting = true;\n        window.location.hash = "#" + path;\n    },\n\n\n    /**\n     * Goes to the last path\n     */\n    goBack: function goBack() {\n        this.history.pop();\n        var path = this.history.pop();\n        if (path) this.go(path);\n    },\n\n\n    /**\n     * Returns router history\n     * @return {Array}\n     */\n    getHistory: function getHistory() {\n        return this.history;\n    },\n\n\n    /**\n     * Is router enabled\n     * @return {boolean}\n     */\n    isEnabled: function isEnabled() {\n        return this.enabled === true;\n    },\n\n\n    /**\n     * Is router redirecting\n     * @return {boolean}\n     */\n    isRedirecting: function isRedirecting() {\n        return this.redirecting === true;\n    },\n\n\n    /**\n     * Removes a callback from an event\n     * @param event\n     * @param callback\n     */\n    off: function off(event, callback) {\n        Events.removeEvent(event, callback);\n    },\n\n\n    /**\n     * Adds a callback to an event\n     * @param event\n     * @param callback\n     */\n    on: function on(event, callback) {\n        Events.addEvent(event, callback);\n    },\n\n\n    /**\n     * Returns the path of the named route\n     * @param name\n     * @param params\n     * @return {*}\n     */\n    path: function path(name, params) {\n        for (var path in this.routes) {\n            if (this.routes.hasOwnProperty(path) && this.routes[path].name === name) {\n                if (params && (typeof params === "undefined" ? "undefined" : _typeof(params)) === "object") {\n                    path = path.replace(/:([a-zA-Z0-9_]+)/g, function (match, arg) {\n                        return params[arg];\n                    });\n                }\n                return path;\n            }\n        }\n        return null;\n    },\n\n\n    /**\n     * Updates active links\n     */\n    parseLinks: function parseLinks() {\n        var links = document.body.querySelectorAll("a.active");\n\n        for (var i = 0; i < links.length; i += 1) {\n            links[i].className = links[i].className.replace("active", "");\n        }\n\n        links = document.body.querySelectorAll("a[href=\\"" + location.hash + "\\"]");\n\n        for (var _i = 0; _i < links.length; _i += 1) {\n            links[_i].className += " active";\n        }\n    },\n\n\n    /**\n     * Refreshes the route\n     */\n    refresh: function refresh() {\n        var self = this;\n\n        // Ignore if router is disabled\n        if (!this.enabled) {\n            return;\n        }\n\n        // Get the current hash\n        var path = window.location.hash.replace(/^#/, "");\n\n        if (!path) {\n            if (self.exists("/")) {\n                self.go("/");\n            }\n        } else {\n            var route = null;\n\n            // Reset redirection status\n            this.redirecting = false;\n\n            if (self.exists(path)) {\n                // Update current route\n                route = self.routes[path];\n            } else {\n                // Check if it is a dynamic route\n                for (var tmpPath in self.routes) {\n                    if (self.routes.hasOwnProperty(tmpPath) && tmpPath.indexOf(":") !== -1) {\n                        var varPattern = new RegExp(tmpPath.replace(new RegExp(":[^/]+", "g"), ":([^/]+)"));\n                        var valuePattern = new RegExp(tmpPath.replace(new RegExp(":[^/]+", "g"), "([^/]+)"));\n                        var keys = varPattern.exec(tmpPath);\n                        var values = valuePattern.exec(path);\n\n                        if (keys && keys.length > 1 && values && values.length === keys.length) {\n                            keys.shift();\n                            values.shift();\n\n                            // Update current route\n                            route = self.routes[tmpPath];\n                            route.params = {};\n\n                            for (var j in keys) {\n                                if (keys.hasOwnProperty(j)) {\n                                    if (/[0-9]+/.test(j)) {\n                                        route.params[keys[j]] = values[j];\n                                    } else {\n                                        break;\n                                    }\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n\n            if (!route) {\n                console.error("No route defined for " + path);\n\n                if (typeof self.notFound === "function") {\n                    route = new Route(path, {\n                        name: "notFound",\n                        action: self.notFound,\n                        router: self\n                    });\n                } else if (self.notFound instanceof Route) {\n                    self.notFound.router = self;\n                    route = self.notFound;\n                }\n            } else {\n                Events.triggerEvent("route", route);\n            }\n\n            var previousPath = self.history.pop();\n            var currentRoute = self.getCurrentRoute();\n\n            // Execute the previous route leave event\n            if (previousPath !== path && currentRoute && typeof currentRoute.events.leave === "function") {\n                var result = currentRoute.events.leave.call(currentRoute);\n\n                if (result === false) {\n                    self.disable();\n                    window.location.hash = "#" + previousPath;\n                    setTimeout(self.enable, 100);\n                    return false;\n                }\n            }\n\n            // Add the route in the history\n            if (self.getLastPath() !== path) {\n                self.history.push(path);\n            }\n\n            // Update the current route\n            self.currentRoute = route;\n\n            // Execute the route callback\n            self.currentRoute.action.call(self.currentRoute);\n        }\n    },\n\n\n    /**\n     * This method renders the content of the route into the page\n     * within the specified target element\n     * @param content\n     * @param data\n     * @param target\n     */\n    render: function render(content, data, target) {\n        if (typeof target === "string") {\n            target = document.getElementById(target);\n        }\n        if ((typeof target === "undefined" ? "undefined" : _typeof(target)) === "object") {\n            if (target instanceof Element) {\n                target.innerHTML = content;\n            }\n        }\n    },\n\n\n    /**\n     * Declares a route\n     * @param path\n     * @param options\n     * @param deprecated_options\n     */\n    route: function route(path, options, deprecated_options) {\n        // Old signature\n        if (typeof options === "function") {\n            console.warn("Router.route(string, function, object) is deprecated, use Router.route(string, options) instead");\n            deprecated_options = deprecated_options || {};\n            deprecated_options.action = options;\n            options = deprecated_options;\n        }\n\n        // Pass the router to the route\n        options.router = this;\n\n        // Creates a new route\n        this.routes[path] = new Route(path, options);\n    }\n};\n\nif ((typeof document === "undefined" ? "undefined" : _typeof(document)) === "object" && document !== null) {\n    // Render the path when the DOM is ready\n    document.addEventListener("DOMContentLoaded", function () {\n        if (Router.autoRun) {\n            Router.refresh();\n        }\n        // Watch any changes in the path\n        window.addEventListener("hashchange", function (ev) {\n            if (!Router.refresh()) {\n                ev.preventDefault();\n                return false;\n            }\n        });\n    });\n}\n\n// Expose global variable\nif ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object" && window !== null) {\n    window.Router = Router;\n}\n\n/***/ })\n/******/ ]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qay1yb3V0ZXIvZGlzdC9qay1yb3V0ZXIuanM/N2YwMSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcbiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNyBLYXJsIFNURUlOXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqL1xuXG52YXIgaG9va3MgPSB7fTtcblxudmFyIEV2ZW50cyA9IHtcbiAgICBhZGRFdmVudDogZnVuY3Rpb24gYWRkRXZlbnQoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImV2ZW50IGlzIG5vdCBhIHN0cmluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGhvb2tzW2V2ZW50XSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgaG9va3NbZXZlbnRdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaG9va3NbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnQ6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoaG9va3NbZXZlbnRdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGhvb2tzW2V2ZW50XS5pbmRleE9mKGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGhvb2tzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0cmlnZ2VyRXZlbnQ6IGZ1bmN0aW9uIHRyaWdnZXJFdmVudCgpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICB2YXIgdGhpc09iaiA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICBpZiAoaG9va3MuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzW2V2ZW50XS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGhvb2tzW2V2ZW50XVtpXS5jYWxsKHRoaXNPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIFJvdXRlID0gZXhwb3J0cy5Sb3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb3V0ZShwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3V0ZSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdXRlIGNhbGxiYWNrXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUm91dGUgZXZlbnRzXG4gICAgICAgICAqIEB0eXBlIHt7fX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdXRlIG5hbWVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3V0ZSBwYXJhbXNcbiAgICAgICAgICogQHR5cGUge251bGx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhcmFtcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdXRlIHBhdGhcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3V0ZXIgb2JqZWN0XG4gICAgICAgICAqIEB0eXBlIHtSb3V0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdXRlciA9IG9wdGlvbnMucm91dGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvb2tzIGEgY2FsbGJhY2sgdG8gYW4gZXZlbnRcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFJvdXRlLCBbe1xuICAgICAgICBrZXk6IFwib25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5sZWF2ZSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWRpcmVjdHMgdG8gYW5vdGhlciByb3V0ZVxuICAgICAgICAgKiBAcGFyYW0gcGF0aFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlZGlyZWN0XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWRpcmVjdChwYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnJvdXRlci5nbyhwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJzIGEgcm91dGUgY29udGVudFxuICAgICAgICAgKiBAcGFyYW0gY29udGVudFxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgdmFyIHJvdXRlID0gdGhpcztcbiAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgfHwgdGhpcy5yb3V0ZXIuZ2V0VGFyZ2V0KCk7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayB0YXJnZXRcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGlzIG5vdCB2YWxpZCBmb3Igcm91dGUgOiBcIiArIHJvdXRlLnBhdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNZXJnZSBkYXRhXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmRhdGEgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gb3B0aW9ucy5kYXRhLmNhbGwocm91dGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZihvcHRpb25zLmRhdGEpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEua2V5ID0gb3B0aW9ucy5kYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgYmVmb3JlIHJlbmRlciBjYWxsYmFja3NcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyRXZlbnQoXCJiZWZvcmVSZW5kZXJcIiwgdGhpcyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcHJldmlvdXMgY29udGVudFxuICAgICAgICAgICAgdGFyZ2V0LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgIHRoaXMucm91dGVyLnJlbmRlci5jYWxsKHJvdXRlLCBjb250ZW50LCBkYXRhLCB0YXJnZXQpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYWxsIGxpbmtzIGluIHRoZSBwYWdlXG4gICAgICAgICAgICB0aGlzLnJvdXRlci5wYXJzZUxpbmtzKCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgYmVmb3JlIHJlbmRlciBjYWxsYmFja3NcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyRXZlbnQoXCJhZnRlclJlbmRlclwiLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSb3V0ZTtcbn0oKTtcblxudmFyIFJvdXRlciA9IGV4cG9ydHMuUm91dGVyID0ge1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY3VycmVudCBwYXRoIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgYXV0b1J1bjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHJvdXRlXG4gICAgICogQHR5cGUge1JvdXRlfVxuICAgICAqL1xuICAgIGN1cnJlbnRSb3V0ZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIElzIHJvdXRlciBlbmFibGVkXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmV2aW91cyBwYXRoIG9mIHRoZSByb3V0ZXJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgaGlzdG9yeTogW10sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBwYXRoIHRoYXQgdGhlIHJvdXRlciBzaG91bGQga2VlcCBpbiBtZW1vcnlcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGhpc3RvcnlMaW1pdDogMTAsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFnZSBub3QgZm91bmQgY29udGVudFxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICBub3RGb3VuZDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIElzIHJvdXRlciByZWZyZXNoaW5nXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgcmVkaXJlY3Rpbmc6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdXRlc1xuICAgICAqIEB0eXBlIHt7fX1cbiAgICAgKi9cbiAgICByb3V0ZXM6IHt9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBlbGVtZW50IHdoZXJlIHRoZSByb3V0ZXIgd2lsbCByZW5kZXIgdGhlIHBhZ2VcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRhcmdldDogXCJ5aWVsZFwiLFxuXG4gICAgLyoqXG4gICAgICogQSByb3V0ZVxuICAgICAqIEB0eXBlIHtSb3V0ZX1cbiAgICAgKi9cbiAgICBSb3V0ZTogUm91dGUsXG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyByb3V0ZXJcbiAgICAgKi9cbiAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHJvdXRlclxuICAgICAqL1xuICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcm91dGUgZXhpc3RzXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0czogZnVuY3Rpb24gZXhpc3RzKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVzW3BhdGhdIGluc3RhbmNlb2YgUm91dGU7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCByb3V0ZVxuICAgICAqIEByZXR1cm4ge1JvdXRlfVxuICAgICAqL1xuICAgIGdldEN1cnJlbnRSb3V0ZTogZnVuY3Rpb24gZ2V0Q3VycmVudFJvdXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50Um91dGU7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCBwYXRoXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0TGFzdFBhdGg6IGZ1bmN0aW9uIGdldExhc3RQYXRoKCkge1xuICAgICAgICB2YXIgaGlzdG9yeVNpemUgPSB0aGlzLmhpc3RvcnkubGVuZ3RoO1xuXG4gICAgICAgIGlmIChoaXN0b3J5U2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnlbaGlzdG9yeVNpemUgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCByb3V0ZXNcbiAgICAgKiBAcmV0dXJuIHt7fX1cbiAgICAgKi9cbiAgICBnZXRSb3V0ZXM6IGZ1bmN0aW9uIGdldFJvdXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVzO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcm91dGVyIHRhcmdldFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYXJnZXQ6IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0O1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcGF0aFxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICogQHRvZG8gYWxsb3cgdG8gcGFzcyBwYXJhbXNcbiAgICAgKi9cbiAgICBnbzogZnVuY3Rpb24gZ28ocGF0aCkge1xuICAgICAgICB0aGlzLnJlZGlyZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBcIiNcIiArIHBhdGg7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogR29lcyB0byB0aGUgbGFzdCBwYXRoXG4gICAgICovXG4gICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeS5wb3AoKTtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmhpc3RvcnkucG9wKCk7XG4gICAgICAgIGlmIChwYXRoKSB0aGlzLmdvKHBhdGgpO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcm91dGVyIGhpc3RvcnlcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRIaXN0b3J5OiBmdW5jdGlvbiBnZXRIaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5O1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIElzIHJvdXRlciBlbmFibGVkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQ6IGZ1bmN0aW9uIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZCA9PT0gdHJ1ZTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBJcyByb3V0ZXIgcmVkaXJlY3RpbmdcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzUmVkaXJlY3Rpbmc6IGZ1bmN0aW9uIGlzUmVkaXJlY3RpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZGlyZWN0aW5nID09PSB0cnVlO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjYWxsYmFjayBmcm9tIGFuIGV2ZW50XG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIEV2ZW50cy5yZW1vdmVFdmVudChldmVudCwgY2FsbGJhY2spO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjYWxsYmFjayB0byBhbiBldmVudFxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbiBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgRXZlbnRzLmFkZEV2ZW50KGV2ZW50LCBjYWxsYmFjayk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGF0aCBvZiB0aGUgbmFtZWQgcm91dGVcbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIHBhdGg6IGZ1bmN0aW9uIHBhdGgobmFtZSwgcGFyYW1zKSB7XG4gICAgICAgIGZvciAodmFyIHBhdGggaW4gdGhpcy5yb3V0ZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdXRlcy5oYXNPd25Qcm9wZXJ0eShwYXRoKSAmJiB0aGlzLnJvdXRlc1twYXRoXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcyAmJiAodHlwZW9mIHBhcmFtcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHBhcmFtcykpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoLzooW2EtekEtWjAtOV9dKykvZywgZnVuY3Rpb24gKG1hdGNoLCBhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXNbYXJnXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYWN0aXZlIGxpbmtzXG4gICAgICovXG4gICAgcGFyc2VMaW5rczogZnVuY3Rpb24gcGFyc2VMaW5rcygpIHtcbiAgICAgICAgdmFyIGxpbmtzID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFwiYS5hY3RpdmVcIik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgbGlua3NbaV0uY2xhc3NOYW1lID0gbGlua3NbaV0uY2xhc3NOYW1lLnJlcGxhY2UoXCJhY3RpdmVcIiwgXCJcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5rcyA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChcImFbaHJlZj1cXFwiXCIgKyBsb2NhdGlvbi5oYXNoICsgXCJcXFwiXVwiKTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGlua3MubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICAgICAgICBsaW5rc1tfaV0uY2xhc3NOYW1lICs9IFwiIGFjdGl2ZVwiO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHRoZSByb3V0ZVxuICAgICAqL1xuICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyBJZ25vcmUgaWYgcm91dGVyIGlzIGRpc2FibGVkXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgaGFzaFxuICAgICAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jLywgXCJcIik7XG5cbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5leGlzdHMoXCIvXCIpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5nbyhcIi9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcm91dGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBSZXNldCByZWRpcmVjdGlvbiBzdGF0dXNcbiAgICAgICAgICAgIHRoaXMucmVkaXJlY3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHNlbGYuZXhpc3RzKHBhdGgpKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnJlbnQgcm91dGVcbiAgICAgICAgICAgICAgICByb3V0ZSA9IHNlbGYucm91dGVzW3BhdGhdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBpdCBpcyBhIGR5bmFtaWMgcm91dGVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB0bXBQYXRoIGluIHNlbGYucm91dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJvdXRlcy5oYXNPd25Qcm9wZXJ0eSh0bXBQYXRoKSAmJiB0bXBQYXRoLmluZGV4T2YoXCI6XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhclBhdHRlcm4gPSBuZXcgUmVnRXhwKHRtcFBhdGgucmVwbGFjZShuZXcgUmVnRXhwKFwiOlteL10rXCIsIFwiZ1wiKSwgXCI6KFteL10rKVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVQYXR0ZXJuID0gbmV3IFJlZ0V4cCh0bXBQYXRoLnJlcGxhY2UobmV3IFJlZ0V4cChcIjpbXi9dK1wiLCBcImdcIiksIFwiKFteL10rKVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHZhclBhdHRlcm4uZXhlYyh0bXBQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZVBhdHRlcm4uZXhlYyhwYXRoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMgJiYga2V5cy5sZW5ndGggPiAxICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoID09PSBrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjdXJyZW50IHJvdXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgPSBzZWxmLnJvdXRlc1t0bXBQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZS5wYXJhbXMgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogaW4ga2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9bMC05XSsvLnRlc3QoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZS5wYXJhbXNba2V5c1tqXV0gPSB2YWx1ZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXJvdXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIHJvdXRlIGRlZmluZWQgZm9yIFwiICsgcGF0aCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYubm90Rm91bmQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA9IG5ldyBSb3V0ZShwYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm5vdEZvdW5kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHNlbGYubm90Rm91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXI6IHNlbGZcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLm5vdEZvdW5kIGluc3RhbmNlb2YgUm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub3RGb3VuZC5yb3V0ZXIgPSBzZWxmO1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA9IHNlbGYubm90Rm91bmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlckV2ZW50KFwicm91dGVcIiwgcm91dGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcHJldmlvdXNQYXRoID0gc2VsZi5oaXN0b3J5LnBvcCgpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRSb3V0ZSA9IHNlbGYuZ2V0Q3VycmVudFJvdXRlKCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIHByZXZpb3VzIHJvdXRlIGxlYXZlIGV2ZW50XG4gICAgICAgICAgICBpZiAocHJldmlvdXNQYXRoICE9PSBwYXRoICYmIGN1cnJlbnRSb3V0ZSAmJiB0eXBlb2YgY3VycmVudFJvdXRlLmV2ZW50cy5sZWF2ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1cnJlbnRSb3V0ZS5ldmVudHMubGVhdmUuY2FsbChjdXJyZW50Um91dGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gXCIjXCIgKyBwcmV2aW91c1BhdGg7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2VsZi5lbmFibGUsIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgcm91dGUgaW4gdGhlIGhpc3RvcnlcbiAgICAgICAgICAgIGlmIChzZWxmLmdldExhc3RQYXRoKCkgIT09IHBhdGgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhpc3RvcnkucHVzaChwYXRoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjdXJyZW50IHJvdXRlXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRSb3V0ZSA9IHJvdXRlO1xuXG4gICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSByb3V0ZSBjYWxsYmFja1xuICAgICAgICAgICAgc2VsZi5jdXJyZW50Um91dGUuYWN0aW9uLmNhbGwoc2VsZi5jdXJyZW50Um91dGUpO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVuZGVycyB0aGUgY29udGVudCBvZiB0aGUgcm91dGUgaW50byB0aGUgcGFnZVxuICAgICAqIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRhcmdldCBlbGVtZW50XG4gICAgICogQHBhcmFtIGNvbnRlbnRcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihjb250ZW50LCBkYXRhLCB0YXJnZXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2YgdGFyZ2V0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YodGFyZ2V0KSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBEZWNsYXJlcyBhIHJvdXRlXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBkZXByZWNhdGVkX29wdGlvbnNcbiAgICAgKi9cbiAgICByb3V0ZTogZnVuY3Rpb24gcm91dGUocGF0aCwgb3B0aW9ucywgZGVwcmVjYXRlZF9vcHRpb25zKSB7XG4gICAgICAgIC8vIE9sZCBzaWduYXR1cmVcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlJvdXRlci5yb3V0ZShzdHJpbmcsIGZ1bmN0aW9uLCBvYmplY3QpIGlzIGRlcHJlY2F0ZWQsIHVzZSBSb3V0ZXIucm91dGUoc3RyaW5nLCBvcHRpb25zKSBpbnN0ZWFkXCIpO1xuICAgICAgICAgICAgZGVwcmVjYXRlZF9vcHRpb25zID0gZGVwcmVjYXRlZF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgZGVwcmVjYXRlZF9vcHRpb25zLmFjdGlvbiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gZGVwcmVjYXRlZF9vcHRpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFzcyB0aGUgcm91dGVyIHRvIHRoZSByb3V0ZVxuICAgICAgICBvcHRpb25zLnJvdXRlciA9IHRoaXM7XG5cbiAgICAgICAgLy8gQ3JlYXRlcyBhIG5ldyByb3V0ZVxuICAgICAgICB0aGlzLnJvdXRlc1twYXRoXSA9IG5ldyBSb3V0ZShwYXRoLCBvcHRpb25zKTtcbiAgICB9XG59O1xuXG5pZiAoKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGRvY3VtZW50KSkgPT09IFwib2JqZWN0XCIgJiYgZG9jdW1lbnQgIT09IG51bGwpIHtcbiAgICAvLyBSZW5kZXIgdGhlIHBhdGggd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoUm91dGVyLmF1dG9SdW4pIHtcbiAgICAgICAgICAgIFJvdXRlci5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2F0Y2ggYW55IGNoYW5nZXMgaW4gdGhlIHBhdGhcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgaWYgKCFSb3V0ZXIucmVmcmVzaCgpKSB7XG4gICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFeHBvc2UgZ2xvYmFsIHZhcmlhYmxlXG5pZiAoKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZih3aW5kb3cpKSA9PT0gXCJvYmplY3RcIiAmJiB3aW5kb3cgIT09IG51bGwpIHtcbiAgICB3aW5kb3cuUm91dGVyID0gUm91dGVyO1xufVxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLG1CQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./spreadSheetSending.js\nconst addSpreadSheetEvents = () => {\r\n  let list = [];\r\n  document.querySelectorAll(".choice").forEach(node =>\r\n    node.addEventListener("click", e => {\r\n      list.push(e.target.textContent);\r\n      console.log(list);\r\n    })\r\n  );\r\n  document.getElementById("input").addEventListener("click", () => {\r\n    document.getElementById("path").value = list.toString().replace(/\\,/g, \'  \');\r\n    list = [];\r\n  });\r\n}\r\n\r\n/* harmony default export */ var spreadSheetSending = (addSpreadSheetEvents);\r\n\n// EXTERNAL MODULE: ./node_modules/jk-router/dist/jk-router.js\nvar jk_router = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./routing.js\n\r\n\r\nconst routing_router = () => {\r\n  const removeActiveFromLinks = () => {\r\n    document.querySelectorAll("ul").forEach(item => {\r\n      item.classList.remove("active")\r\n    })\r\n  }\r\n  const base = window.location.origin + "/survey/"\r\n  const removeDisabledFromLinks = () => {\r\n    document.querySelectorAll(".final").forEach(node => {\r\n      node.classList.remove("disabled")\r\n    })\r\n  }\r\n  jk_router["Router"].route(base, {\r\n      name: "home",\r\n      action() {\r\n        this.render(`<h1>Welcome to our Survey!</h1><br><p>This will only take 5 years to fill out, please begin by filling in your name.</p>`, {\r\n          target: "content"\r\n        })\r\n      }\r\n  });\r\n  jk_router["Router"].route(base + "/question1", {\r\n      name: "question1",\r\n      action() {\r\n        removeActiveFromLinks();\r\n        removeDisabledFromLinks();\r\n        document.getElementById("tree-main").style.display = "block"\r\n        document.getElementById("form-inputs").style.display = "none"\r\n        document.getElementById("input").textContent = "Next Question"\r\n        this.render(`<h1>Question 1:</h1><br><p>If you were looking for information about assessment, where do you think you would find it?</p>`, {\r\n          target: "content"\r\n        })\r\n      }\r\n  });\r\n  jk_router["Router"].route(base + "/question2", {\r\n      name: "question2",\r\n      action() {\r\n        removeActiveFromLinks();\r\n        removeDisabledFromLinks();\r\n        this.render(`<h1>Question 2:</h1><br><p>If you were looking for information about mentoring, where do you think you would find it?</p>`, {\r\n          target: "content"\r\n        })\r\n      }\r\n  });\r\n  jk_router["Router"].route(base + "/question3", {\r\n      name: "question3",\r\n      action() {\r\n        removeActiveFromLinks();\r\n        removeDisabledFromLinks();\r\n        this.render(`<h1>Question 3:</h1><br><p>If you were looking for a case study from Ghana, where do you think you would find it?</p>`, {\r\n          target: "content"\r\n        })\r\n      }\r\n  });\r\n  jk_router["Router"].route(base + "/thankyou", {\r\n      name: "thankyou",\r\n      action() {\r\n        document.getElementById("tree-main").style.display = "none";\r\n        document.getElementById("input").style.display = "none";\r\n        this.render(`<h1>Thank You!</h1><br><p>Thanks for taking the time to complete our survey, your answers have been saved. You may now exit this tab. <br> For more information, please visit <a href="#">this site</a>.</p>`, {\r\n          target: "content"\r\n        })\r\n      }\r\n  });\r\n}\r\n\r\n/* harmony default export */ var routing = (routing_router);\r\n\n// CONCATENATED MODULE: ./app.js\n\r\n\r\n\r\nspreadSheetSending();\r\nrouting();\r\n\r\n\r\n//TO DO\r\n//Route the rest of the questions\r\n//Hide the input buttons after the first page\r\n//Hide the dropdown on the first page\r\n//Make the input look better --\x3e Bootsrap?\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NwcmVhZFNoZWV0U2VuZGluZy5qcz83YTA5Iiwid2VicGFjazovLy8uL3JvdXRpbmcuanM/YWE2MyIsIndlYnBhY2s6Ly8vLi9hcHAuanM/OWE3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhZGRTcHJlYWRTaGVldEV2ZW50cyA9ICgpID0+IHtcclxuICBsZXQgbGlzdCA9IFtdO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2hvaWNlXCIpLmZvckVhY2gobm9kZSA9PlxyXG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgIGxpc3QucHVzaChlLnRhcmdldC50ZXh0Q29udGVudCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGxpc3QpO1xyXG4gICAgfSlcclxuICApO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGF0aFwiKS52YWx1ZSA9IGxpc3QudG9TdHJpbmcoKS5yZXBsYWNlKC9cXCwvZywgJyDilrYgJyk7XHJcbiAgICBsaXN0ID0gW107XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFkZFNwcmVhZFNoZWV0RXZlbnRzO1xyXG4iLCJpbXBvcnQge1JvdXRlcn0gZnJvbSBcImprLXJvdXRlclwiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJlbW92ZUFjdGl2ZUZyb21MaW5rcyA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ1bFwiKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICAgIH0pXHJcbiAgfVxyXG4gIGNvbnN0IGJhc2UgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgXCIvc3VydmV5L1wiXHJcbiAgY29uc3QgcmVtb3ZlRGlzYWJsZWRGcm9tTGlua3MgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpbmFsXCIpLmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpXHJcbiAgICB9KVxyXG4gIH1cclxuICBSb3V0ZXIucm91dGUoYmFzZSwge1xyXG4gICAgICBuYW1lOiBcImhvbWVcIixcclxuICAgICAgYWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyKGA8aDE+V2VsY29tZSB0byBvdXIgU3VydmV5ITwvaDE+PGJyPjxwPlRoaXMgd2lsbCBvbmx5IHRha2UgNSB5ZWFycyB0byBmaWxsIG91dCwgcGxlYXNlIGJlZ2luIGJ5IGZpbGxpbmcgaW4geW91ciBuYW1lLjwvcD5gLCB7XHJcbiAgICAgICAgICB0YXJnZXQ6IFwiY29udGVudFwiXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gIH0pO1xyXG4gIFJvdXRlci5yb3V0ZShiYXNlICsgXCIvcXVlc3Rpb24xXCIsIHtcclxuICAgICAgbmFtZTogXCJxdWVzdGlvbjFcIixcclxuICAgICAgYWN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUFjdGl2ZUZyb21MaW5rcygpO1xyXG4gICAgICAgIHJlbW92ZURpc2FibGVkRnJvbUxpbmtzKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmVlLW1haW5cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybS1pbnB1dHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dFwiKS50ZXh0Q29udGVudCA9IFwiTmV4dCBRdWVzdGlvblwiXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoYDxoMT5RdWVzdGlvbiAxOjwvaDE+PGJyPjxwPklmIHlvdSB3ZXJlIGxvb2tpbmcgZm9yIGluZm9ybWF0aW9uIGFib3V0IGFzc2Vzc21lbnQsIHdoZXJlIGRvIHlvdSB0aGluayB5b3Ugd291bGQgZmluZCBpdD88L3A+YCwge1xyXG4gICAgICAgICAgdGFyZ2V0OiBcImNvbnRlbnRcIlxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICB9KTtcclxuICBSb3V0ZXIucm91dGUoYmFzZSArIFwiL3F1ZXN0aW9uMlwiLCB7XHJcbiAgICAgIG5hbWU6IFwicXVlc3Rpb24yXCIsXHJcbiAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICByZW1vdmVBY3RpdmVGcm9tTGlua3MoKTtcclxuICAgICAgICByZW1vdmVEaXNhYmxlZEZyb21MaW5rcygpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKGA8aDE+UXVlc3Rpb24gMjo8L2gxPjxicj48cD5JZiB5b3Ugd2VyZSBsb29raW5nIGZvciBpbmZvcm1hdGlvbiBhYm91dCBtZW50b3JpbmcsIHdoZXJlIGRvIHlvdSB0aGluayB5b3Ugd291bGQgZmluZCBpdD88L3A+YCwge1xyXG4gICAgICAgICAgdGFyZ2V0OiBcImNvbnRlbnRcIlxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICB9KTtcclxuICBSb3V0ZXIucm91dGUoYmFzZSArIFwiL3F1ZXN0aW9uM1wiLCB7XHJcbiAgICAgIG5hbWU6IFwicXVlc3Rpb24zXCIsXHJcbiAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICByZW1vdmVBY3RpdmVGcm9tTGlua3MoKTtcclxuICAgICAgICByZW1vdmVEaXNhYmxlZEZyb21MaW5rcygpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKGA8aDE+UXVlc3Rpb24gMzo8L2gxPjxicj48cD5JZiB5b3Ugd2VyZSBsb29raW5nIGZvciBhIGNhc2Ugc3R1ZHkgZnJvbSBHaGFuYSwgd2hlcmUgZG8geW91IHRoaW5rIHlvdSB3b3VsZCBmaW5kIGl0PzwvcD5gLCB7XHJcbiAgICAgICAgICB0YXJnZXQ6IFwiY29udGVudFwiXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gIH0pO1xyXG4gIFJvdXRlci5yb3V0ZShiYXNlICsgXCIvdGhhbmt5b3VcIiwge1xyXG4gICAgICBuYW1lOiBcInRoYW5reW91XCIsXHJcbiAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyZWUtbWFpblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoYDxoMT5UaGFuayBZb3UhPC9oMT48YnI+PHA+VGhhbmtzIGZvciB0YWtpbmcgdGhlIHRpbWUgdG8gY29tcGxldGUgb3VyIHN1cnZleSwgeW91ciBhbnN3ZXJzIGhhdmUgYmVlbiBzYXZlZC4gWW91IG1heSBub3cgZXhpdCB0aGlzIHRhYi4gPGJyPiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpc2l0IDxhIGhyZWY9XCIjXCI+dGhpcyBzaXRlPC9hPi48L3A+YCwge1xyXG4gICAgICAgICAgdGFyZ2V0OiBcImNvbnRlbnRcIlxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iLCJpbXBvcnQgYWRkU3ByZWFkU2hlZXRFdmVudHMgZnJvbSAnLi9zcHJlYWRTaGVldFNlbmRpbmcnXHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0aW5nJ1xyXG5cclxuYWRkU3ByZWFkU2hlZXRFdmVudHMoKTtcclxucm91dGVyKCk7XHJcblxyXG5cclxuLy9UTyBET1xyXG4vL1JvdXRlIHRoZSByZXN0IG9mIHRoZSBxdWVzdGlvbnNcclxuLy9IaWRlIHRoZSBpbnB1dCBidXR0b25zIGFmdGVyIHRoZSBmaXJzdCBwYWdlXHJcbi8vSGlkZSB0aGUgZHJvcGRvd24gb24gdGhlIGZpcnN0IHBhZ2VcclxuLy9NYWtlIHRoZSBpbnB1dCBsb29rIGJldHRlciAtLT4gQm9vdHNyYXA/XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n')}]);